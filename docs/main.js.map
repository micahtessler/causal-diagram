{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/diagram-card/diagram-card.component.ts","./src/app/diagram-card/diagram-card.component.html","./src/app/diagram.service.ts","./src/app/diagram/diagram.component.ts","./src/app/diagram/diagram.component.html","./src/app/model/Position.ts","./src/app/navbar/navbar.component.ts","./src/app/navbar/navbar.component.html","./src/app/pattern.service.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, {})],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'causal-diagram';\r\n}\r\n","<!--The content below is only a placeholder and can be replaced.-->\r\n<app-navbar></app-navbar>\r\n<router-outlet></router-outlet>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { NavbarComponent } from './navbar/navbar.component';\r\nimport { LayoutModule } from '@angular/cdk/layout';\r\nimport { DiagramCardComponent } from './diagram-card/diagram-card.component';\r\nimport { DiagramComponent } from './diagram/diagram.component';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatLegacyButtonModule as MatButtonModule} from '@angular/material/legacy-button';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatLegacyMenuModule as MatMenuModule} from '@angular/material/legacy-menu';\r\nimport {MatLegacyListModule as MatListModule} from '@angular/material/legacy-list';\r\nimport {MatLegacyCardModule as MatCardModule} from '@angular/material/legacy-card';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    NavbarComponent,\r\n    DiagramCardComponent,\r\n    DiagramComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    LayoutModule,\r\n    MatToolbarModule,\r\n    MatButtonModule,\r\n    MatSidenavModule,\r\n    MatIconModule,\r\n    MatListModule,\r\n    MatCardModule,\r\n    MatMenuModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { PatternService } from '../pattern.service';\r\n\r\n@Component({\r\n  selector: 'app-diagram-card',\r\n  templateUrl: './diagram-card.component.html',\r\n  styleUrls: ['./diagram-card.component.css']\r\n})\r\nexport class DiagramCardComponent {\r\n  \r\n  constructor(public patternService : PatternService) { }\r\n\r\n}\r\n","<mat-card class=\"example-card\" *ngIf=\"patternService.selectedPattern\">\r\n  <mat-card-header>\r\n    <div mat-card-avatar></div>\r\n    <mat-card-title>{{patternService.selectedPattern.name}}</mat-card-title>\r\n    <!--<mat-card-subtitle>Dog Breed</mat-card-subtitle>-->\r\n  </mat-card-header>\r\n  <app-diagram></app-diagram>\r\n  <mat-card-content>\r\n    <ul>\r\n      <li> {{patternService.selectedPattern.jugglerCount}} Jugglers</li>\r\n      <li> {{patternService.clubCount(patternService.selectedPattern)}} Clubs</li>\r\n    </ul>\r\n\r\n  </mat-card-content>\r\n  <!--\r\n  <mat-card-actions>\r\n    <button mat-button>LIKE</button>\r\n    <button mat-button>SHARE</button>\r\n  </mat-card-actions>\r\n  -->\r\n</mat-card>\r\n","import { Injectable } from '@angular/core';\r\nimport { Throw } from './model/Throw';\r\nimport { PatternService } from './pattern.service';\r\nimport { Position } from './model/Position';\r\nimport { Subject } from 'rxjs';\r\nimport { SVG } from '@svgdotjs/svg.js'\r\nimport { Beat } from './model/Beat';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DiagramService {\r\n\r\n\r\n  readonly CIRCLE_RADIUS = 40;\r\n  readonly ZIP_RADIUS = 20;\r\n  readonly ZIP_Y_OFFSET = 30;\r\n  readonly ZIP_X_OFFSET = 0;\r\n  readonly X_MARGIN = 50;\r\n  readonly BEAT_WIDTH = 100;\r\n  readonly Y_MARGIN = 75;\r\n  readonly BEAT_HEIGHT = 125;\r\n  readonly CIRCLE_CORNER_ANGLE = Math.PI / 4;\r\n  readonly CIRCLE_CORNER_X = (Math.round((Math.cos(this.CIRCLE_CORNER_ANGLE) * this.CIRCLE_RADIUS) * 100) / 100);\r\n  readonly CIRCLE_CORNER_Y = (Math.round((Math.sin(this.CIRCLE_CORNER_ANGLE) * this.CIRCLE_RADIUS) * 100) / 100);\r\n  readonly ZIP_CIRCLE_CORNER_X = (Math.round((Math.sin(this.CIRCLE_CORNER_ANGLE) * this.ZIP_RADIUS) * 100) / 100);\r\n  readonly ZIP_CIRCLE_CORNER_Y = (Math.round((Math.sin(this.CIRCLE_CORNER_ANGLE) * this.ZIP_RADIUS) * 100) / 100);\r\n\r\n  diagramWidth: number;\r\n  diagramHeight: number;\r\n  public div: HTMLDivElement;\r\n\r\n  public divObs: Subject<HTMLDivElement> = new Subject();\r\n  constructor(private patternService: PatternService) {\r\n    this.divObs.subscribe((div) => {\r\n      this.div = div;\r\n      this.drawSVG();\r\n    });\r\n  }\r\n\r\n  drawSVG() {\r\n    if (this.div == null) {\r\n      return;\r\n    }\r\n    this.div.innerHTML = '';\r\n    if (this.patternService.selectedPattern == null) {\r\n      return;\r\n    }\r\n\r\n    const draw = SVG().addTo(this.div);\r\n\r\n    const beatsToDraw = this.patternService.selectedPattern.beats.concat(this.patternService.selectedPattern.beats);\r\n\r\n    this.diagramWidth = this.BEAT_WIDTH * beatsToDraw.length;\r\n    this.diagramHeight = this.BEAT_HEIGHT * (this.patternService.selectedPattern.jugglerCount + 1);\r\n\r\n    draw.viewbox(0, 0, this.diagramWidth, this.diagramHeight);\r\n\r\n    const bgRect = draw.rect(this.diagramWidth, this.diagramHeight);\r\n    bgRect.addClass('causalBgRect');\r\n\r\n\r\n\r\n\r\n    // create arrow heads\r\n    const defs = draw.defs();\r\n    const arrowMarker = this.initArrow(defs);\r\n\r\n\r\n    const borderWest = draw.line(0, 0, 0, this.diagramHeight);\r\n    borderWest.addClass('causal_border');\r\n    borderWest.id('causal_border_west');\r\n\r\n\r\n    const borderEast = draw.line(this.diagramWidth, 0, this.diagramWidth, this.diagramHeight);\r\n    borderEast.addClass('causal_border');\r\n    borderEast.id('causal_border_east');\r\n\r\n\r\n    const borderNorth = draw.line(0, 1, this.diagramWidth, 1);\r\n    borderNorth.addClass('causal_border');\r\n    borderNorth.id('causal_border_north');\r\n\r\n\r\n    const borderSouth = draw.line(0, this.diagramHeight, this.diagramWidth, this.diagramHeight);\r\n    borderSouth.addClass('causal_border');\r\n    borderSouth.id('causal_border_south');\r\n\r\n\r\n    beatsToDraw.forEach((beat, i) => {\r\n      this.drawCircles(draw, i, beat.throws, arrowMarker);\r\n    });\r\n    beatsToDraw.forEach((beat, i) => {\r\n      this.drawThrows(draw, i, beat.throws, arrowMarker, beatsToDraw);\r\n    });\r\n\r\n\r\n    return draw;\r\n  }\r\n\r\n  getBeatDiff(throwObj: Throw): number {\r\n    return throwObj.throwHeight - 2;\r\n  }\r\n\r\n  getBeatPosition(beatNb: number, jugglerNb: number): Position {\r\n    return new Position(\r\n      beatNb * this.BEAT_WIDTH + this.X_MARGIN,\r\n      jugglerNb * this.BEAT_HEIGHT + this.Y_MARGIN\r\n    );\r\n  }\r\n\r\n  getZipReceivePosition(beatNb: number, jugglerNb: number): Position {\r\n    return new Position(\r\n      beatNb * this.BEAT_WIDTH + this.X_MARGIN - this.ZIP_X_OFFSET,\r\n      jugglerNb * this.BEAT_HEIGHT + this.Y_MARGIN - this.ZIP_Y_OFFSET\r\n    );\r\n  }\r\n\r\n  getZipThrowPosition(beatNb: number, jugglerNb: number): Position {\r\n    return new Position(\r\n      beatNb * this.BEAT_WIDTH + this.X_MARGIN + this.ZIP_X_OFFSET,\r\n      jugglerNb * this.BEAT_HEIGHT + this.Y_MARGIN + this.ZIP_Y_OFFSET\r\n    );\r\n  }\r\n\r\n  getCircleUpperLeft(center: Position, radius = this.CIRCLE_RADIUS): Position {\r\n    const cornerAdj = (Math.round((Math.cos(this.CIRCLE_CORNER_ANGLE) * radius) * 100) / 100);\r\n    return new Position(\r\n      center.x - cornerAdj,\r\n      center.y - cornerAdj\r\n    );\r\n  }\r\n  getCircleUpperRight(center: Position, radius = this.CIRCLE_RADIUS): Position {\r\n    const cornerAdj = (Math.round((Math.cos(this.CIRCLE_CORNER_ANGLE) * radius) * 100) / 100);\r\n    return new Position(\r\n      center.x + cornerAdj,\r\n      center.y - cornerAdj\r\n    );\r\n  }\r\n  getCircleLowerLeft(center: Position, radius = this.CIRCLE_RADIUS): Position {\r\n    const cornerAdj = (Math.round((Math.cos(this.CIRCLE_CORNER_ANGLE) * radius) * 100) / 100);\r\n    return new Position(\r\n      center.x - cornerAdj,\r\n      center.y + cornerAdj\r\n    );\r\n  }\r\n  getCircleLowerRight(center: Position, radius = this.CIRCLE_RADIUS): Position {\r\n    const cornerAdj = (Math.round((Math.cos(this.CIRCLE_CORNER_ANGLE) * radius) * 100) / 100);\r\n    return new Position(\r\n      center.x + cornerAdj,\r\n      center.y + cornerAdj\r\n    );\r\n  }\r\n  getCircleLeft(center: Position, radius = this.CIRCLE_RADIUS): Position {\r\n    return new Position(\r\n      center.x - radius,\r\n      center.y\r\n    );\r\n  }\r\n  getCircleRight(center: Position, radius = this.CIRCLE_RADIUS): Position {\r\n    return new Position(\r\n      center.x + radius,\r\n      center.y\r\n    );\r\n  }\r\n  getCircleTop(center: Position, radius = this.CIRCLE_RADIUS): Position {\r\n    return new Position(\r\n      center.x,\r\n      center.y - radius\r\n    );\r\n  }\r\n  getCircleBottom(center: Position, radius = this.CIRCLE_RADIUS): Position {\r\n    return new Position(\r\n      center.x,\r\n      center.y + radius\r\n    );\r\n  }\r\n\r\n  drawCircles(draw, beatNb: number, throws: Array<Throw>, arrowMarker: any): void {\r\n    throws.forEach((throwObj) => {\r\n      if (throwObj.zip) {\r\n        this.drawZipCircles(draw, beatNb, throwObj, arrowMarker);\r\n      } else {\r\n        this.drawNormalCircle(draw, beatNb, throwObj);\r\n      }\r\n    });\r\n  }\r\n\r\n  private drawNormalCircle(draw, beatNb: number, throwObj: Throw): void {\r\n    const pos = this.getBeatPosition(beatNb, throwObj.sourceJuggler);\r\n    // create the circle\r\n    const circle = draw.circle();\r\n\r\n    circle.radius(this.CIRCLE_RADIUS);\r\n    circle.cx(pos.x);\r\n    circle.cy(pos.y);\r\n    circle.id('causal_beat_' + beatNb + '_juggler_' + throwObj.sourceJuggler);\r\n    circle.addClass('causal_beat_circle');\r\n\r\n    const text = draw.text(throwObj.sourceHand);\r\n    text.x(pos.x - this.getTextXOffset(throwObj.sourceHand));\r\n    text.y(pos.y);\r\n    text.id('causal_beat_label_' + beatNb + '_juggler_' + throwObj.sourceJuggler);\r\n    text.addClass('causal_beat_label');\r\n    text.font({\r\n      family: 'sans-serif'\r\n      , size: '35'\r\n    });\r\n  }\r\n\r\n  private getOtherHand(hand: string) {\r\n    if (hand === 'R') {\r\n      return 'L';\r\n    } else {\r\n      return 'R';\r\n    }\r\n  }\r\n\r\n  private getTextXOffset(hand: string): number {\r\n    if (hand === 'R') {\r\n      return 12;\r\n    } else {\r\n      return 10;\r\n    }\r\n  }\r\n\r\n  private drawZipCircles(draw, beatNb: number, throwObj: Throw, arrowMarker: any): void {\r\n    const pos0 = this.getZipReceivePosition(beatNb, throwObj.sourceJuggler);\r\n\r\n    // create the top (receiving circle)\r\n    const circleTop = draw.circle();\r\n    circleTop.radius(this.ZIP_RADIUS);\r\n    circleTop.cx(pos0.x);\r\n    circleTop.cy(pos0.y);\r\n    circleTop.id('causal_beat_' + beatNb + '_juggler_' + throwObj.sourceJuggler + '_0');\r\n    circleTop.addClass('causal_beat_circle');\r\n\r\n    const textTop = draw.text(this.getOtherHand(throwObj.sourceHand));\r\n    textTop.x(pos0.x - this.getTextXOffset(this.getOtherHand(throwObj.sourceHand)));\r\n    textTop.y(pos0.y);\r\n    textTop.id('causal_beat_label_' + beatNb + '_juggler_' + throwObj.sourceJuggler + '_0');\r\n    textTop.addClass('causal_beat_label');\r\n    textTop.font({\r\n      family: 'sans-serif'\r\n      , size: '35'\r\n    });\r\n\r\n    const pos1 = this.getZipThrowPosition(beatNb, throwObj.sourceJuggler);\r\n    // create the bottom (receiving circle)\r\n    const circleBottom = draw.circle();\r\n    circleBottom.radius(this.ZIP_RADIUS);\r\n    circleBottom.cx(pos1.x);\r\n    circleBottom.cy(pos1.y);\r\n    circleBottom.id('causal_beat_' + beatNb + '_juggler_' + throwObj.sourceJuggler + '_1');\r\n    circleBottom.addClass('causal_beat_circle');\r\n\r\n    const textBottom = draw.text(throwObj.sourceHand);\r\n    textBottom.x(pos1.x - this.getTextXOffset(throwObj.sourceHand));\r\n    textBottom.y(pos1.y);\r\n    textBottom.id('causal_beat_label_' + beatNb + '_juggler_' + throwObj.sourceJuggler + '_1');\r\n    textBottom.addClass('causal_beat_label');\r\n    textBottom.font({\r\n      family: 'sans-serif'\r\n      , size: '35'\r\n    });\r\n\r\n    // zip line between the circles\r\n    const startPos = this.getCircleBottom(pos0, this.ZIP_RADIUS);\r\n    const endPos = this.getCircleTop(pos1, this.ZIP_RADIUS);\r\n    const line = draw.line(startPos.x, startPos.y, endPos.x, endPos.y);\r\n    line.addClass('causal_pass_line');\r\n    line.marker('end', arrowMarker);\r\n  }\r\n\r\n  drawThrows(draw, beatNb: number, throws: Array<Throw>, arrowMarker: any, beatsToDraw: Array<Beat>): void {\r\n    for (let j = 0; j < throws.length; j++) {\r\n      // TODO: need a better ID system for throws (multiplexes...)\r\n      const id = 'throw_' + beatNb + '_' + throws[j].sourceJuggler;\r\n      const targetThrow = this.getTargetThrow(beatNb, throws[j], beatsToDraw);\r\n      if (this.isLineInDiagram(throws[j])) {\r\n        this.drawThrowLine(draw, id, throws[j], beatNb, arrowMarker,  targetThrow);\r\n      } else {\r\n        // this is a curve for a self throw (not 1 or 3)\r\n        this.drawSelfCurve(draw, id, throws[j], beatNb, arrowMarker, targetThrow);\r\n      }\r\n    }\r\n  }\r\n\r\n  getTargetThrow(startBeat: number, sourceThrow: Throw, beats: Array<Beat>): Throw {\r\n    const targetBeatNumber = (startBeat + sourceThrow.throwHeight - 2);\r\n\r\n    const targetBeat = beats[targetBeatNumber % beats.length].throws.find((t) => {\r\n      return (t.sourceJuggler === sourceThrow.targetJuggler);\r\n    });\r\n    return targetBeat;\r\n  }\r\n\r\n  initArrow(defs) {\r\n    const arrowMarker = defs.marker(5, 5, function (add) {\r\n      const path = add.path('M0,0 L0,3 L4.5,1.5 z');\r\n      path.addClass('causal_arrow');\r\n    });\r\n    arrowMarker.ref(0, 1.5);\r\n    arrowMarker.id('arrowMarker');\r\n    return arrowMarker;\r\n  }\r\n\r\n  isLineInDiagram(throwObj: Throw): boolean {\r\n    if (throwObj.sourceJuggler !== throwObj.targetJuggler) {\r\n      return true;\r\n    } else {\r\n      const beatDiff = (throwObj.throwHeight - 2);\r\n      return (beatDiff === 1);\r\n    }\r\n  }\r\n\r\n  drawThrowLine(draw, id: string, throwObj: Throw, beatNb: number, arrowMarker: any, targetThrow: Throw): void {\r\n    let beat1Pos = this.getBeatPosition(beatNb, throwObj.sourceJuggler);\r\n    let beat1Radius = this.CIRCLE_RADIUS;\r\n    if (throwObj.zip) {\r\n      beat1Pos = this.getZipThrowPosition(beatNb, throwObj.sourceJuggler);\r\n      beat1Radius = this.ZIP_RADIUS;\r\n    }\r\n\r\n    const beatDiff = this.getBeatDiff(throwObj);\r\n    const beat2Nb = beatNb + beatDiff;\r\n    let beat2Pos = this.getBeatPosition(beat2Nb, throwObj.targetJuggler);\r\n    let beat2Radius = this.CIRCLE_RADIUS;\r\n    if (targetThrow.zip) {\r\n      beat2Pos = this.getZipReceivePosition(beat2Nb, throwObj.targetJuggler);\r\n      beat2Radius = this.ZIP_RADIUS;\r\n    }\r\n    let startPos;\r\n    let endPos;\r\n\r\n    if (throwObj.sourceJuggler === throwObj.targetJuggler) {\r\n      startPos = this.getCircleRight(beat1Pos, beat1Radius);\r\n      endPos = this.getCircleLeft(beat2Pos, beat2Radius);\r\n    } else {\r\n      // this must be a positive height\r\n      if (throwObj.sourceJuggler > throwObj.targetJuggler) {\r\n        startPos = this.getCircleUpperRight(beat1Pos, beat1Radius);\r\n        endPos = this.getCircleLowerLeft(beat2Pos, beat2Radius);\r\n      } else {\r\n        startPos = this.getCircleLowerRight(beat1Pos, beat1Radius);\r\n        endPos = this.getCircleUpperLeft(beat2Pos, beat2Radius);\r\n      }\r\n    }\r\n    const line = draw.line(startPos.x, startPos.y, endPos.x, endPos.y);\r\n    line.addClass('causal_pass_line');\r\n    line.id(id);\r\n    if (endPos.x < this.diagramWidth) {\r\n      line.marker('end', arrowMarker);\r\n    }\r\n\r\n  }\r\n\r\n  drawSelfCurve(draw, id: string, throwObj: Throw, beatNb: number, arrowMarker: any, targetThrow: Throw): void {\r\n    let beat1Pos = this.getBeatPosition(beatNb, throwObj.sourceJuggler);\r\n    let beat1Radius = this.CIRCLE_RADIUS;\r\n    if (throwObj.zip) {\r\n      beat1Pos = this.getZipThrowPosition(beatNb, throwObj.sourceJuggler);\r\n      beat1Radius = this.ZIP_RADIUS;\r\n    }\r\n    const beatDiff = this.getBeatDiff(throwObj);\r\n    const beat2Nb = beatNb + beatDiff;\r\n    let beat2Pos = this.getBeatPosition(beat2Nb, throwObj.targetJuggler);\r\n    let beat2Radius = this.CIRCLE_RADIUS;\r\n    if (targetThrow.zip) {\r\n      beat2Pos = this.getZipReceivePosition(beat2Nb, throwObj.targetJuggler);\r\n      beat2Radius = this.ZIP_RADIUS;\r\n    }\r\n\r\n    let startPos;\r\n    let endPos;\r\n    let radiusX;\r\n    let radiusY;\r\n    const rotation = 0;\r\n    const largeArcFlag = 0;\r\n    const sweepFlag = 1;\r\n\r\n    if (beatDiff === -2) {\r\n      // backwards throw\r\n      startPos = this.getCircleLowerLeft(beat1Pos, beat1Radius);\r\n      endPos = this.getCircleLowerRight(beat2Pos, beat2Radius);\r\n      radiusX = 100;\r\n      radiusY = 100;\r\n    } else if (beatDiff === -1) {\r\n      startPos = this.getCircleBottom(beat1Pos, beat1Radius);\r\n      endPos = this.getCircleBottom(beat2Pos, beat2Radius);\r\n      radiusX = 100;\r\n      radiusY = 100;\r\n    } else if (beatDiff === 0) {\r\n      startPos = this.getCircleUpperLeft(beat1Pos, beat1Radius);\r\n      endPos = this.getCircleUpperRight(beat2Pos, beat2Radius);\r\n      radiusX = 20;\r\n      radiusY = 30;\r\n    } else {\r\n      startPos = this.getCircleUpperRight(beat1Pos, beat1Radius);\r\n      endPos = this.getCircleUpperLeft(beat2Pos, beat2Radius);\r\n      radiusX = 100 * (beatDiff - 1);\r\n      radiusY = 100 * (beatDiff - 1);\r\n    }\r\n\r\n    const pathStr = 'm ' + startPos.x + ' ' + startPos.y + ' A ' + radiusX + ' ' +\r\n      radiusY + ' ' + rotation + ' ' + largeArcFlag + ' ' + sweepFlag + ' ' + endPos.x + ' ' + endPos.y;\r\n    const path = draw.path(pathStr);\r\n    path.addClass('causal_pass_line');\r\n    path.fill('transparent');\r\n    path.id(id);\r\n    if (endPos.x > 0 && endPos.x < this.diagramWidth) {\r\n      path.marker('end', arrowMarker);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { DiagramService } from '../diagram.service';\r\n\r\n@Component({\r\n  selector: 'app-diagram',\r\n  templateUrl: './diagram.component.html',\r\n  styleUrls: ['./diagram.component.css']\r\n})\r\nexport class DiagramComponent implements OnInit {\r\n  @ViewChild('diagramDiv', {static: true}) diagramDiv: ElementRef;\r\n\r\n  constructor(private diagramService: DiagramService) { }\r\n\r\n  ngOnInit() {\r\n    console.log(this.diagramDiv);\r\n    this.diagramService.divObs.next(this.diagramDiv.nativeElement);\r\n    this.diagramService.drawSVG();\r\n  }\r\n\r\n}\r\n","<div #diagramDiv class=\"diagramDiv\"></div>\r\n","export class Position {\r\n    constructor(public x: number, public y: number) {\r\n\r\n    }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { Pattern } from '../model/Pattern';\r\nimport { PatternService } from '../pattern.service';\r\nimport { DiagramService } from '../diagram.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.css'],\r\n})\r\nexport class NavbarComponent {\r\n\r\n\r\n  isHandset$: Observable<boolean> = this.breakpointObserver.observe(Breakpoints.Handset)\r\n    .pipe(\r\n      map(result => result.matches)\r\n    );\r\n\r\n  constructor(private breakpointObserver: BreakpointObserver, public patternService: PatternService,\r\n    private diagramService: DiagramService) {\r\n\r\n  }\r\n\r\n  selectPattern(pattern: Pattern): void {\r\n    this.patternService.selectedPattern = pattern;\r\n    this.diagramService.drawSVG();\r\n  }\r\n\r\n  downloadPattern(): void {\r\n    const currentPattern = this.patternService.selectedPattern;\r\n    if (currentPattern != null) {\r\n      const fileName = currentPattern.name + '.json';\r\n      const patternAsJson = JSON.stringify(currentPattern, null, 2);\r\n      const uri = 'data:application/json,' + encodeURIComponent(patternAsJson);\r\n\r\n      // do the download\r\n      const link = document.createElement('a');\r\n      link.download = fileName;\r\n      link.href = uri;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    }\r\n  }\r\n\r\n  uploadPattern(event): void {\r\n    const fileList = event.target.files;\r\n    const patternService = this.patternService;\r\n    const diagramService = this.diagramService;\r\n    if (fileList.length > 0 && fileList[0] != null) {\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        const text = reader.result as string;\r\n        const newPattern = JSON.parse(text) as Pattern;\r\n        patternService.selectedPattern = newPattern;\r\n        diagramService.drawSVG();\r\n        patternService.addPattern(newPattern);\r\n      };\r\n\r\n      reader.readAsText(fileList[0]);\r\n    }\r\n  }\r\n\r\n}\r\n","<mat-sidenav-container class=\"sidenav-container\">\r\n  <mat-sidenav #drawer class=\"sidenav\" fixedInViewport=\"true\"\r\n      [attr.role]=\"(isHandset$ | async) ? 'dialog' : 'navigation'\"\r\n      [mode]=\"(isHandset$ | async) ? 'over' : 'side'\"\r\n      [opened]=\"(isHandset$ | async) === false\">\r\n    <mat-nav-list>\r\n\r\n      <button class=\"menuBarButton\" mat-button [matMenuTriggerFor]=\"patternMenu\">Select Pattern</button>\r\n      <mat-menu #patternMenu=\"matMenu\">\r\n          <button (click)=\"selectPattern(pattern)\" *ngFor=\"let pattern of patternService.patterns\" mat-menu-item>{{pattern.name}}</button>\r\n        </mat-menu>\r\n      \r\n      <!--<a mat-list-item href=\"#\">Upload Pattern</a>-->\r\n      <a mat-list-item (click)=\"patternFileInput.click()\">Upload Pattern</a> \r\n      <input [hidden]=true type=\"file\" #patternFileInput (change)=\"uploadPattern($event)\" accept=\"application/json\"/>\r\n      \r\n      <a mat-list-item (click)=\"downloadPattern()\">Download Pattern</a>\r\n    </mat-nav-list>\r\n  </mat-sidenav>\r\n  <mat-sidenav-content>\r\n    <mat-toolbar color=\"primary\">\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Toggle sidenav\"\r\n        mat-icon-button\r\n        (click)=\"drawer.toggle()\"\r\n        *ngIf=\"isHandset$ | async\">\r\n        <mat-icon aria-label=\"Side nav toggle icon\">menu</mat-icon>\r\n      </button>\r\n      <span>Juggling Passing Causal Diagrams</span>\r\n    </mat-toolbar>\r\n    <!-- Add Content Here -->\r\n    \r\n  <app-diagram-card></app-diagram-card>\r\n  </mat-sidenav-content>\r\n</mat-sidenav-container>\r\n","import { Injectable } from '@angular/core';\r\nimport { Pattern } from './model/Pattern';\r\n\r\nimport deathFromAbove from './patterns/deathFromAbove.json';\r\nimport earlyDouble from './patterns/earlyDouble.json';\r\nimport feed from './patterns/feed.json';\r\nimport fourCount from './patterns/fourCount.json';\r\nimport lateDouble from './patterns/lateDouble.json';\r\nimport leftCastle from './patterns/leftCastle.json';\r\nimport leftDoubles from './patterns/leftDoubles.json';\r\nimport rightCastle from './patterns/rightCastle.json';\r\nimport rightTriple from './patterns/rightTriple.json';\r\nimport selfTriple from './patterns/selfTriple.json';\r\nimport TenClubThreeCountTriangle from './patterns/TenClubThreeCountTriangle.json';\r\nimport threeCount from './patterns/threeCount.json';\r\nimport threeCountWith441 from './patterns/threeCountWith441.json';\r\nimport threeCountFeedWith441 from './patterns/threeCountFeedWith441.json';\r\nimport TriangleThing from './patterns/TriangleThing.json';\r\nimport mildMadness from './patterns/mildMadness.json';\r\nimport martinsMadness from './patterns/martinsMadness.json';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PatternService {\r\n\r\n  public patterns = [\r\n    deathFromAbove,\r\n    earlyDouble,\r\n    feed,\r\n    fourCount,\r\n    lateDouble,\r\n    leftCastle,\r\n    leftDoubles,\r\n    rightCastle,\r\n    rightTriple,\r\n    selfTriple,\r\n    TenClubThreeCountTriangle,\r\n    threeCount,\r\n    threeCountWith441,\r\n    threeCountFeedWith441,\r\n    TriangleThing,\r\n    mildMadness,\r\n    martinsMadness\r\n\r\n  ] as Array<Pattern>;\r\n\r\n  public selectedPattern: Pattern = null;\r\n\r\n  constructor() { }\r\n\r\n  public clubCount(pattern: Pattern) : number {\r\n\r\n    let runningTotal = 0;\r\n    for (const beat of pattern.beats) {\r\n      for (const throwObj of beat.throws) {\r\n        runningTotal += throwObj.throwHeight;\r\n      }\r\n    }\r\n    const clubCount = runningTotal / (pattern.beats.length);\r\n    return clubCount;\r\n  }\r\n\r\n  public addPattern(newPattern: Pattern): void {\r\n    const idx = this.patterns.findIndex((pattern) => {\r\n      return pattern.name === newPattern.name;\r\n    });\r\n    if (idx >= 0) {\r\n      this.patterns[idx] = newPattern;\r\n    } else {\r\n      this.patterns.push(newPattern);\r\n    }\r\n\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"names":["RouterModule","routes","AppRoutingModule","_","_2","_3","forRoot","imports","i1","exports","AppComponent","constructor","title","selectors","decls","vars","template","AppComponent_Template","rf","ctx","i0","ɵɵelement","BrowserModule","BrowserAnimationsModule","NavbarComponent","LayoutModule","DiagramCardComponent","DiagramComponent","MatToolbarModule","MatLegacyButtonModule","MatButtonModule","MatSidenavModule","MatIconModule","MatLegacyMenuModule","MatMenuModule","MatLegacyListModule","MatListModule","MatLegacyCardModule","MatCardModule","AppModule","bootstrap","declarations","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","patternService","selectedPattern","name","ɵɵtextInterpolate1","jugglerCount","clubCount","ɵɵdirectiveInject","PatternService","consts","DiagramCardComponent_Template","ɵɵtemplate","DiagramCardComponent_mat_card_0_Template","ɵɵproperty","Position","Subject","SVG","DiagramService","CIRCLE_RADIUS","ZIP_RADIUS","ZIP_Y_OFFSET","ZIP_X_OFFSET","X_MARGIN","BEAT_WIDTH","Y_MARGIN","BEAT_HEIGHT","CIRCLE_CORNER_ANGLE","Math","PI","CIRCLE_CORNER_X","round","cos","CIRCLE_CORNER_Y","sin","ZIP_CIRCLE_CORNER_X","ZIP_CIRCLE_CORNER_Y","divObs","subscribe","div","drawSVG","innerHTML","draw","addTo","beatsToDraw","beats","concat","diagramWidth","length","diagramHeight","viewbox","bgRect","rect","addClass","defs","arrowMarker","initArrow","borderWest","line","id","borderEast","borderNorth","borderSouth","forEach","beat","i","drawCircles","throws","drawThrows","getBeatDiff","throwObj","throwHeight","getBeatPosition","beatNb","jugglerNb","getZipReceivePosition","getZipThrowPosition","getCircleUpperLeft","center","radius","cornerAdj","x","y","getCircleUpperRight","getCircleLowerLeft","getCircleLowerRight","getCircleLeft","getCircleRight","getCircleTop","getCircleBottom","zip","drawZipCircles","drawNormalCircle","pos","sourceJuggler","circle","cx","cy","text","sourceHand","getTextXOffset","font","family","size","getOtherHand","hand","pos0","circleTop","textTop","pos1","circleBottom","textBottom","startPos","endPos","marker","j","targetThrow","getTargetThrow","isLineInDiagram","drawThrowLine","drawSelfCurve","startBeat","sourceThrow","targetBeatNumber","targetBeat","find","t","targetJuggler","add","path","ref","beatDiff","beat1Pos","beat1Radius","beat2Nb","beat2Pos","beat2Radius","radiusX","radiusY","rotation","largeArcFlag","sweepFlag","pathStr","fill","ɵɵinject","factory","ɵfac","providedIn","diagramService","ngOnInit","console","log","diagramDiv","next","nativeElement","viewQuery","DiagramComponent_Query","Breakpoints","map","ɵɵlistener","NavbarComponent_button_11_Template_button_click_0_listener","restoredCtx","ɵɵrestoreView","_r7","pattern_r5","$implicit","ctx_r6","ɵɵnextContext","ɵɵresetView","selectPattern","NavbarComponent_button_20_Template_button_click_0_listener","_r9","_r0","ɵɵreference","toggle","breakpointObserver","isHandset$","observe","Handset","pipe","result","matches","pattern","downloadPattern","currentPattern","fileName","patternAsJson","JSON","stringify","uri","encodeURIComponent","link","document","createElement","download","href","body","appendChild","click","removeChild","uploadPattern","event","fileList","target","files","reader","FileReader","onload","newPattern","parse","addPattern","readAsText","BreakpointObserver","i2","i3","NavbarComponent_Template","NavbarComponent_button_11_Template","NavbarComponent_Template_a_click_12_listener","_r10","_r3","NavbarComponent_Template_input_change_14_listener","$event","NavbarComponent_Template_a_click_16_listener","NavbarComponent_button_20_Template","ɵɵpipeBind1","ɵɵattribute","_r1","patterns","deathFromAbove","earlyDouble","feed","fourCount","lateDouble","leftCastle","leftDoubles","rightCastle","rightTriple","selfTriple","TenClubThreeCountTriangle","threeCount","threeCountWith441","threeCountFeedWith441","TriangleThing","mildMadness","martinsMadness","runningTotal","idx","findIndex","push","environment","production","enableProdMode","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err","error"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}